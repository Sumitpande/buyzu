<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://js.braintreegateway.com/web/dropin/1.18.0/js/dropin.min.js"></script>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <style>
      @import url('https://fonts.googleapis.com/css?family=Amaranth|Quicksand');


      html, body {
        background-color: antiquewhite;
        
      
        font-family: 'Amaranth', sans-serif;
      }
       .field{
        width: 50%;
        max-width: 400px;
        height: 25px;
        
      
      }
      .btn{
        width: 40%;

      }
      .card{
        
        margin-top: 10%;
        left: 25%;
        box-shadow: 2px;
        

      }
      
     
   

    </style>
    
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
    <title>Payment</title>
    <!-- includes the Braintree JS client SDK -->
    <script src="https://js.braintreegateway.com/web/3.44.2/js/client.min.js"></script>
    <script src="https://js.braintreegateway.com/web/3.44.2/js/hosted-fields.min.js"></script>

    <!-- includes jQuery -->
    <script src="http://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
  </head>
  <body>


    
    <div class="card bg-light mb-3 " style="max-width: 600px;">
      <div class="card-header"><h1 class="text-center">Pay by card</h1></div>
      <div class="card-body">
        <!-- <h5 class="card-title">Light card title</h5> -->
        <p class="card-text">
          <form id="payment" method="post">
            <label for="card-number">Card Number</label>
            <div id="card-number" class="field" style="border-width: 1.3px;border-style:solid ; "></div>
            <label for="cvv">CVV</label>
            <div id="cvv" class="field" style="border-width: 1.3px;border-style:solid ; "></div>
            <label for="expiration-date">Expiration Date</label>
            <div id="expiration-date" class="field" style="border-width: 1.3px;border-style:solid ; "></div>
            <input type="hidden" id="nonce" name="payment_method_nonce"
            value="">
            {% csrf_token %}
            <br>
            <input class="btn btn-dark" type="submit" value="Pay"  disabled>
          </form>
        </p>
      </div>
    </div>
  

    
    

   






    <!-- <script src="https://js.braintreegateway.com/web/3.70.0/js/client.min.js"></script> -->
    <script src="https://js.braintreegateway.com/web/3.44.2/js/client.min.js"></script>
    <script src="https://js.braintreegateway.com/web/3.44.2/js/hostedfields.min.js"></script>

    <script>
      
        var form = document.querySelector('#payment');
        var submit = document.querySelector('input[type="submit"]');
        console.log(braintree.client);
 
        braintree.client.create({
            authorization: '{{ client_token }}'},
            function (clientErr, clientInstance) {
            if (clientErr) {
                console.error(clientErr);
                return;
            }
            braintree.hostedFields.create({
                client: clientInstance,
                styles: {
                    'input': {'font-size': '14px'},
                    'input.invalid': {'color': 'red'},
                    'input.valid': {'color': 'green'}
                },
                fields: {
                    number: {selector: '#card-number',
                              placeholder: '4111 1111 1111 1111'
                      
                            },
                    cvv: {selector: '#cvv',placeholder: '123'},
                    expirationDate: {selector: '#expiration-date',placeholder: '10/2022'}
                }
                }, function (hostedFieldsErr, hostedFieldsInstance) {
                if (hostedFieldsErr) {
                    console.error(hostedFieldsErr);
                    return;
                }
            submit.removeAttribute('disabled');
            form.addEventListener('submit', function (event) {
            event.preventDefault();
            hostedFieldsInstance.tokenize(function (tokenizeErr,
            payload) {
            if (tokenizeErr) {
                console.error(tokenizeErr);
                return;
            }
            // set nonce to send to the server
            document.getElementById('nonce').value = payload.nonce;
            // submit form
            document.getElementById('payment').submit();
            });
            }, false);
            });
        });
    </script>













    
    
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    
    <!-- <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    -->
  </body>
</html>















